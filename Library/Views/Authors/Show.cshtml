@using Library.Models;
@using System.Collections.Generic;

@{
  Layout = "_Layout";
}

<div class="container">
    <h2>Author: @Model["author"].GetName()</h2>
    <hr>
    <h4>Books by @Model["author"].GetName():</h4>
    <ul>
        @foreach(var book in @Model["authorBooks"])
            {
             <li><a href="/books/@book.GetId()"> @book.GetName()</a></li>
            }
    </ul>
    <hr>
    <h4>Add @Model["author"].GetName() as an additional author for an existing book:</h4>
    <br>
    <form action = "/authors/@Model["author"].GetId()/addBook" method = "post">
        <input type = "text" name="authorId" value =@Model["author"].GetId() hidden>
        <label for = "bookAdded">Choose Books</label>
        <select name = "bookAdded" type = "text"><br>
            @foreach(var book in @Model["allBooks"])
            {
                <option value="@book.GetId()"> @book.GetName() </option>
            }
        </select>
        <button class="btn btn-sm btn-primary" type = "submit"> Add Book </button><br>
    </form>
    <hr>
</div>